# 共通振る舞い

## 基本方針

- Codex / Claude の役割は固定しない
- ユーザー指示の目的を最優先にする
- レビュー作成側か指摘対応側かを、ターンごとに判断する
- 既存の未コミット変更があっても、Issue化とIssue番号の確定は止めない

## 通常時

1. 指示と必読ドキュメントを確認する
2. ファイル変更を伴う依頼では、原則 `/plan` / `/pl` 相当を先に実行する
3. `/plan` 相当では `GitHub CLI` 事前確認、計画提示、承認取得、Issue作成、`.context/issue_scope.json` 更新まで行う
4. すでに対象Issue番号が依頼文または `.context` で確定している場合は、計画確認のみで実装へ進んでよい
5. 対象Issue番号が確定するまで実装に進まない（複数Issueが関係する場合は `primary_issue` / `related_issues` を定義する）
6. 必要な実装を行う
7. 必要な検証を行う
8. 修正規模を確認し、レビューへ進むべきかを判断する
9. 判断結果（レビューへ進む / 進まない）と理由を含めて、日本語で報告する

## レビュー時・`/review-verify` 時

- 手順は `.ai/workflow.md` を参照する
- レビュー観点と出力テンプレートは `.ai/review.md` を参照する
- `GitHub CLI` を使う場合は標準の実行方式を使い、レビューコメント記録とPR操作にも同ルールを適用する
